<h1>{{message}}</h1>

<form onSubmit="addMessage();return false">
  <label for="title">Titulo</label>
  <input type="text"  name="title" id="title" >
  <label for="price">Precio</label>
  <input type="text"  name="price" id="price" >
  <label for="thumbnail">Imagen</label>
  <input type="text"  name="thumbnail" id="thumbnail" >
  <input type="submit" value="Agregar">
</form>

<script>

    const socket = io()

    socket.on('messageBack',(data)=>{
      console.log('Recibida desde backend: ',data)
      let innerText =''
      data.map((message)=>{
        innerText+=`
        <li>
          <div>Titulo: ${message.author}</div>
          <div>Precio: ${message.text}</div>
        </li>
        `
      })
      document.getElementById('messages').innerHTML= innerText
    })

    socket.on('mensajeConexion',(data)=>{
      console.log(data)
      alert(data)
      socket.emit('mensajeRespuesta','Muchas gracias!')
    })

    function addMessage(){
      const author = document.getElementById('title').value
      const text = document.getElementById('price').value
      socket.emit('messageFront',{
        author,
        text,       
     })
      document.getElementById('message').value=''
    }
  </script>
